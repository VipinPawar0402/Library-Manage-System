{% load static %}
<head>
  <link rel="stylesheet" href="{% static 'person.css' %}" />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css"
    integrity="sha512-jnSuA4Ss2PkkikSOLtYs8BlYIeeIK1h99ty4YfvRPAlzr377vr3CXDb7sb7eEEBYjDtcYj+AjBH3FLv5uSJuXg=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />
  <style>
    td,
    th {
      border: 4px solid #dddddd;
      text-align: left;
      padding: 8px;
      width: 200px;
    }
    .logout {
      margin: 0%;
      margin-top: 25px;
      margin-left: 85%;
    }

    .outbtn {
      background-color: rgb(245, 195, 59);
      border: none;
      font-weight: bold;
      border-radius: 4%;
    }
  </style>
</head>
<div class="logout">
  <button class="outbtn" onclick="logoutbtn()"><span>LOGOUT</span></button>
</div>
<header
  style="
    margin-bottom: 1%;
    margin-top: 2%;
    text-align: center;
    font-size: 130%;
    font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
    background-color: rgb(246, 246, 199);
  "
>
  Person Data Table
</header>
<table>
  <tbody style="margin-top: 50%">
    <tr>
      <th class="id-column">ID</th>
      <th>Full Name</th>
      <th>Mobile</th>
      <th>Email</th>
      <th>Action</th>
    </tr>
    <tr id="item-{{ person.id }}">
      <td class="id-column">{{person.id}}</td>
      <td>{{person.name}}</td>
      <td>{{person.mobile}}</td>
      <td>{{person.email}}</td>
      <td>
        <button class="deletebtn" data-id="{{ person.id }}">Detele</button>
        <button
          type="button"
          class="edit-btn"
          value="{{person.id}}"
          onclick="open_modal('{{person.id}}', '{{person.name}}', '{{person.mobile}}','{{person.email}}')"
        >
          Edit
        </button>
      </td>
    </tr>
  </tbody>
</table>

<div
  class="modal fade"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Edit Box</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <div class="mb-3">
          <input type="hidden" value="" id="userId" />
          <label for="recipient-name" class="col-form-label">Name:</label>
          <input type="text" class="form-control" id="editname" />
        </div>
        <div class="mb-3">
          <label for="recipient-name" class="col-form-label">Mobile:</label>
          <input type="text" class="form-control" id="editmobile" />
        </div>
        <div class="mb-3">
          <label for="recipient-name" class="col-form-label">Email:</label>
          <input type="text" class="form-control" id="editemail" />
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Close
        </button>
        <button
          type="button"
          class="btn btn-primary update_data"
          value="{{person.id}}"
          onclick="update_data('{{person.id}}', '{{person.name}}', '{{person.mobile}}','{{person.email}}')"
        >
          Update
        </button>
      </div>
    </div>
  </div>
</div>

<script
  src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
  integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
></script>
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/js/bootstrap.min.js"
  integrity="sha512-ykZ1QQr0Jy/4ZkvKuqWn4iF3lqPZyij9iRv6sGqLRdTPkY69YX6+7wvVGmsdBbiIfN/8OdsI7HABjvEok6ZopQ=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
></script>

<script src="{% static 'person.js' %}"></script>
<script>
  function logoutbtn() {
    // Clear any session data stored in localStorage
    localStorage.clear();

    // Clear any session data stored in sessionStorage
    sessionStorage.clear();

    // Redirect to the login page or home page
    window.location.href = "/login"; // Replace "/login" with your desired logout redirection URL
  }
</script>
